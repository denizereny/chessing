<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4x5 Chess - TaÅŸ DÃ¼zeni</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 30px;
            max-width: 1200px;
            width: 100%;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .piece-palette {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e9ecef;
        }

        .palette-section {
            margin-bottom: 25px;
        }

        .palette-section h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.2em;
            text-align: center;
        }

        .palette-pieces {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .palette-piece {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            cursor: grab;
            border: 3px solid #dee2e6;
            border-radius: 12px;
            background: white;
            transition: all 0.3s ease;
            user-select: none;
        }

        .palette-piece:hover {
            transform: scale(1.1);
            border-color: #007bff;
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }

        .palette-piece:active {
            cursor: grabbing;
            transform: scale(0.95);
        }

        .board-container {
            text-align: center;
        }

        .board-container h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .chess-board {
            width: 400px;
            height: 500px;
            border: 6px solid #8b4513;
            border-radius: 15px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(5, 1fr);
            margin: 0 auto 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .square {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
            border: 1px solid rgba(0,0,0,0.1);
        }

        .square.light {
            background: #f0d9b5;
        }

        .square.dark {
            background: #b58863;
        }

        .square:hover {
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
        }

        .square.drop-zone {
            background: #90EE90 !important;
            box-shadow: inset 0 0 20px rgba(0,255,0,0.5);
        }

        .square.invalid-drop {
            background: #FFB6C1 !important;
            box-shadow: inset 0 0 20px rgba(255,0,0,0.5);
        }

        .piece {
            font-size: 40px;
            cursor: grab;
            transition: all 0.2s ease;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            user-select: none;
        }

        .piece:hover {
            transform: scale(1.1);
        }

        .piece:active {
            cursor: grabbing;
        }

        .piece.white {
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }

        .piece.black {
            color: #2c2c2c;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
        }

        .controls {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e9ecef;
        }

        .controls h3 {
            color: #495057;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.2em;
        }

        .btn {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #545b62);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108,117,125,0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40,167,69,0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(220,53,69,0.4);
        }

        .stats {
            background: #e9ecef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .stat-label {
            font-weight: 600;
            color: #495057;
        }

        .stat-value {
            font-weight: bold;
            color: #007bff;
        }

        .presets {
            margin-bottom: 20px;
        }

        .preset-btn {
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            font-weight: 500;
        }

        .preset-btn:hover {
            border-color: #007bff;
            background: #f8f9ff;
            transform: translateX(5px);
        }

        .dragging {
            opacity: 0.7;
            transform: scale(1.1) rotate(5deg);
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .chess-board {
                width: 320px;
                height: 400px;
            }
            
            .square {
                font-size: 32px;
            }
            
            .piece {
                font-size: 32px;
            }
            
            .palette-piece {
                width: 50px;
                height: 50px;
                font-size: 28px;
            }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 2000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: #28a745;
        }

        .notification.error {
            background: #dc3545;
        }

        .notification.info {
            background: #17a2b8;
        }

        /* Language Selector */
        .language-selector {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .language-dropdown {
            background: white;
            border: 2px solid #007bff;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .language-dropdown:hover {
            background: #f8f9ff;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.2);
        }

        .language-dropdown:focus {
            outline: none;
            border-color: #0056b3;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.25);
        }

        /* RTL Support for Arabic */
        [dir="rtl"] .language-selector {
            left: auto;
            right: 20px;
        }

        [dir="rtl"] .main-content {
            direction: rtl;
        }

        [dir="rtl"] .piece-palette,
        [dir="rtl"] .controls {
            text-align: right;
        }

        [dir="rtl"] .palette-section h3,
        [dir="rtl"] .controls h3 {
            text-align: center;
        }

        [dir="rtl"] .stat-item {
            flex-direction: row-reverse;
        }

        [dir="rtl"] .btn {
            text-align: center;
        }

        [dir="rtl"] .notification {
            right: auto;
            left: 20px;
            transform: translateX(-400px);
        }

        [dir="rtl"] .notification.show {
            transform: translateX(0);
        }

        /* Theme Toggle */
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 80px;
            z-index: 1000;
        }

        .theme-toggle-button {
            background: white;
            border: 2px solid #007bff;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .theme-toggle-button:hover {
            background: #f8f9ff;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.2);
        }

        .theme-toggle-button:focus {
            outline: none;
            border-color: #0056b3;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.25);
        }

        /* RTL Support for Theme Toggle */
        [dir="rtl"] .theme-toggle {
            right: auto;
            left: 80px;
        }

        /* Dark Theme Styles */
        [data-theme="dark"] {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --border-primary: #334155;
        }

        [data-theme="dark"] body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--text-primary);
        }

        [data-theme="dark"] .container {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        [data-theme="dark"] .piece-palette,
        [data-theme="dark"] .controls {
            background: var(--bg-primary);
            border-color: var(--border-primary);
        }

        [data-theme="dark"] .palette-section h3,
        [data-theme="dark"] .controls h3 {
            color: #6366f1;
        }

        [data-theme="dark"] .palette-piece {
            background: var(--bg-secondary);
            border-color: var(--border-primary);
        }

        [data-theme="dark"] .palette-piece:hover {
            border-color: #6366f1;
        }

        [data-theme="dark"] .stats {
            background: var(--bg-primary);
        }

        [data-theme="dark"] .stat-label {
            color: var(--text-secondary);
        }

        [data-theme="dark"] .preset-btn {
            background: var(--bg-secondary);
            border-color: var(--border-primary);
            color: var(--text-primary);
        }

        [data-theme="dark"] .preset-btn:hover {
            border-color: #6366f1;
            background: #6366f1;
            color: white;
        }

        [data-theme="dark"] .theme-toggle-button {
            background: var(--bg-secondary);
            border-color: #6366f1;
            color: var(--text-primary);
        }

        [data-theme="dark"] .theme-toggle-button:hover {
            background: var(--bg-primary);
        }

        [data-theme="dark"] .language-dropdown {
            background: var(--bg-secondary);
            border-color: #6366f1;
            color: var(--text-primary);
        }

        [data-theme="dark"] .language-dropdown:hover {
            background: var(--bg-primary);
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <select class="language-dropdown" id="languageSelect" onchange="changeLanguage()">
            <option value="en">ğŸ‡ºğŸ‡¸ English</option>
            <option value="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</option>
            <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
            <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
            <option value="it">ğŸ‡®ğŸ‡¹ Italiano</option>
            <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
            <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
            <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
            <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        </select>
    </div>

    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button class="theme-toggle-button" id="themeToggle" onclick="toggleTheme()" title="Toggle theme">
            <span id="themeIcon">ğŸŒ™</span>
        </button>
    </div>

    <div class="container">
        <div class="header">
            <h1>â™” 4Ã—5 SatranÃ§ TaÅŸ DÃ¼zeni â™š</h1>
            <p>TaÅŸlarÄ± sÃ¼rÃ¼kleyip bÄ±rakarak kendi pozisyonunuzu oluÅŸturun</p>
        </div>

        <div class="main-content">
            <!-- Sol Panel - TaÅŸ Paleti -->
            <div class="piece-palette">
                <div class="palette-section">
                    <h3>âšª Beyaz TaÅŸlar</h3>
                    <div class="palette-pieces">
                        <div class="palette-piece" data-piece="K" draggable="true">â™”</div>
                        <div class="palette-piece" data-piece="Q" draggable="true">â™•</div>
                        <div class="palette-piece" data-piece="R" draggable="true">â™–</div>
                        <div class="palette-piece" data-piece="B" draggable="true">â™—</div>
                        <div class="palette-piece" data-piece="N" draggable="true">â™˜</div>
                        <div class="palette-piece" data-piece="P" draggable="true">â™™</div>
                    </div>
                </div>

                <div class="palette-section">
                    <h3>âš« Siyah TaÅŸlar</h3>
                    <div class="palette-pieces">
                        <div class="palette-piece" data-piece="k" draggable="true">â™š</div>
                        <div class="palette-piece" data-piece="q" draggable="true">â™›</div>
                        <div class="palette-piece" data-piece="r" draggable="true">â™œ</div>
                        <div class="palette-piece" data-piece="b" draggable="true">â™</div>
                        <div class="palette-piece" data-piece="n" draggable="true">â™</div>
                        <div class="palette-piece" data-piece="p" draggable="true">â™Ÿ</div>
                    </div>
                </div>
            </div>

            <!-- Orta Panel - SatranÃ§ TahtasÄ± -->
            <div class="board-container">
                <h2>ğŸ SatranÃ§ TahtasÄ±</h2>
                <div class="chess-board" id="chessBoard">
                    <!-- Kareler JavaScript ile oluÅŸturulacak -->
                </div>
                
                <div class="stats" id="stats">
                    <div class="stat-item">
                        <span class="stat-label">Beyaz Kral:</span>
                        <span class="stat-value" id="whiteKings">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Siyah Kral:</span>
                        <span class="stat-value" id="blackKings">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Toplam TaÅŸ:</span>
                        <span class="stat-value" id="totalPieces">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Materyal Dengesi:</span>
                        <span class="stat-value" id="materialBalance">0</span>
                    </div>
                </div>
            </div>

            <!-- SaÄŸ Panel - Kontroller -->
            <div class="controls">
                <h3>ğŸ® Kontroller</h3>
                
                <div class="presets">
                    <button class="preset-btn" onclick="loadPreset('default')">ğŸ  VarsayÄ±lan Pozisyon</button>
                    <button class="preset-btn" onclick="loadPreset('endgame')">ğŸ‘‘ Son Oyun</button>
                    <button class="preset-btn" onclick="loadPreset('middlegame')">âš”ï¸ Orta Oyun</button>
                    <button class="preset-btn" onclick="loadPreset('puzzle')">ğŸ§© Puzzle</button>
                    <button class="preset-btn" onclick="loadPreset('random')">ğŸ² Rastgele</button>
                </div>

                <button class="btn btn-primary" onclick="analyzePosition()">ğŸ” Pozisyonu Analiz Et</button>
                <button class="btn btn-success" onclick="playPosition()">ğŸ® Bu Pozisyonla Oyna</button>
                <button class="btn btn-secondary" onclick="goBackToGame()">â†©ï¸ Ana Oyuna DÃ¶n</button>
                <button class="btn btn-secondary" onclick="clearBoard()">ğŸ—‘ï¸ TahtayÄ± Temizle</button>
                <button class="btn btn-danger" onclick="resetBoard()">ğŸ”„ SÄ±fÄ±rla</button>
            </div>
        </div>
    </div>

    <!-- Bildirim -->
    <div class="notification" id="notification"></div>

    <script>
        // Translation system
        let currentLang = 'en'; // Default to English

        const translations = {
            en: {
                title: "â™” 4Ã—5 Chess - Piece Setup â™š",
                subtitle: "Drag and drop pieces to create your custom position",
                whitePieces: "âšª White Pieces",
                blackPieces: "âš« Black Pieces", 
                chessBoard: "ğŸ Chess Board",
                controls: "ğŸ® Controls",
                whiteKings: "White Kings:",
                blackKings: "Black Kings:",
                totalPieces: "Total Pieces:",
                materialBalance: "Material Balance:",
                defaultPosition: "ğŸ  Default Position",
                endgame: "ğŸ‘‘ Endgame",
                middlegame: "âš”ï¸ Middlegame",
                puzzle: "ğŸ§© Puzzle",
                random: "ğŸ² Random",
                analyzePosition: "ğŸ” Analyze Position",
                playPosition: "ğŸ® Play This Position",
                goBackToGame: "â†©ï¸ Back to Main Game",
                clearBoard: "ğŸ—‘ï¸ Clear Board",
                savePosition: "ğŸ’¾ Save Position",
                resetBoard: "ğŸ”„ Reset",
                positionReady: "Piece setup ready! You can drag and drop pieces.",
                piecePlaced: "piece placed on",
                positionCleared: "Board cleared",
                positionReset: "Position reset",
                positionSaved: "Position saved",
                positionAnalyzed: "Position analyzed",
                whiteKingMissing: "Exactly one white king required for play!",
                blackKingMissing: "Exactly one black king required for play!",
                minimumPieces: "At least 2 pieces (kings) required for play!",
                positionPrepared: "âœ… Position prepared! You can play against the bot...",
                whiteKingExcess: "âš ï¸ White king missing or excess",
                blackKingExcess: "âš ï¸ Black king missing or excess",
                whiteAdvantage: "âœ… White has material advantage",
                blackAdvantage: "âœ… Black has material advantage", 
                materialEqual: "âš–ï¸ Material balanced",
                endgamePosition: "ğŸ Endgame position (few pieces)",
                openingPosition: "ğŸš€ Opening position (many pieces)",
                middlegamePosition: "âš”ï¸ Middlegame position",
                kingsClose: "ğŸ‘‘ Kings too close - play carefully!",
                kingsSafe: "ğŸ›¡ï¸ Kings at safe distance",
                whiteCenter: "ğŸ¯ White controls center",
                blackCenter: "ğŸ¯ Black controls center",
                centerBalanced: "ğŸ¯ Center control balanced",
                positionValid: "âœ… Position looks valid"
            },
            tr: {
                title: "â™” 4Ã—5 SatranÃ§ - TaÅŸ DÃ¼zeni â™š",
                subtitle: "TaÅŸlarÄ± sÃ¼rÃ¼kleyip bÄ±rakarak kendi pozisyonunuzu oluÅŸturun",
                whitePieces: "âšª Beyaz TaÅŸlar",
                blackPieces: "âš« Siyah TaÅŸlar",
                chessBoard: "ğŸ SatranÃ§ TahtasÄ±", 
                controls: "ğŸ® Kontroller",
                whiteKings: "Beyaz Kral:",
                blackKings: "Siyah Kral:",
                totalPieces: "Toplam TaÅŸ:",
                materialBalance: "Materyal Dengesi:",
                defaultPosition: "ğŸ  VarsayÄ±lan Pozisyon",
                endgame: "ğŸ‘‘ Son Oyun",
                middlegame: "âš”ï¸ Orta Oyun", 
                puzzle: "ğŸ§© Puzzle",
                random: "ğŸ² Rastgele",
                analyzePosition: "ğŸ” Pozisyonu Analiz Et",
                playPosition: "ğŸ® Bu Pozisyonla Oyna",
                goBackToGame: "â†©ï¸ Ana Oyuna DÃ¶n",
                clearBoard: "ğŸ—‘ï¸ TahtayÄ± Temizle",
                savePosition: "ğŸ’¾ Pozisyonu Kaydet",
                resetBoard: "ğŸ”„ SÄ±fÄ±rla",
                positionReady: "TaÅŸ dÃ¼zeni hazÄ±r! TaÅŸlarÄ± sÃ¼rÃ¼kleyip bÄ±rakabilirsiniz.",
                piecePlaced: "taÅŸÄ± yerleÅŸtirildi",
                positionCleared: "Tahta temizlendi",
                positionReset: "Pozisyon sÄ±fÄ±rlandÄ±", 
                positionSaved: "Pozisyon kaydedildi",
                positionAnalyzed: "Pozisyon analiz edildi",
                whiteKingMissing: "Oyun iÃ§in tam olarak bir beyaz kral gerekli!",
                blackKingMissing: "Oyun iÃ§in tam olarak bir siyah kral gerekli!",
                minimumPieces: "Oyun iÃ§in en az iki taÅŸ (krallar) gerekli!",
                positionPrepared: "âœ… Pozisyon hazÄ±rlandÄ±! Bot ile oynayabilirsiniz...",
                whiteKingExcess: "âš ï¸ Beyaz kral eksik veya fazla",
                blackKingExcess: "âš ï¸ Siyah kral eksik veya fazla",
                whiteAdvantage: "âœ… Beyaz materyal avantajÄ±nda",
                blackAdvantage: "âœ… Siyah materyal avantajÄ±nda",
                materialEqual: "âš–ï¸ Materyal dengeli",
                endgamePosition: "ğŸ Son oyun pozisyonu (az taÅŸ)",
                openingPosition: "ğŸš€ AÃ§Ä±lÄ±ÅŸ pozisyonu (Ã§ok taÅŸ)",
                middlegamePosition: "âš”ï¸ Orta oyun pozisyonu",
                kingsClose: "ğŸ‘‘ Krallar Ã§ok yakÄ±n - dikkatli oynayÄ±n!",
                kingsSafe: "ğŸ›¡ï¸ Krallar gÃ¼venli mesafede",
                whiteCenter: "ğŸ¯ Beyaz merkezi kontrol ediyor",
                blackCenter: "ğŸ¯ Siyah merkezi kontrol ediyor", 
                centerBalanced: "ğŸ¯ Merkez kontrolÃ¼ dengeli",
                positionValid: "âœ… Pozisyon geÃ§erli gÃ¶rÃ¼nÃ¼yor"
            },
            es: {
                title: "â™” 4Ã—5 Ajedrez - ConfiguraciÃ³n de Piezas â™š",
                subtitle: "Arrastra y suelta piezas para crear tu posiciÃ³n personalizada",
                whitePieces: "âšª Piezas Blancas",
                blackPieces: "âš« Piezas Negras",
                chessBoard: "ğŸ Tablero de Ajedrez",
                controls: "ğŸ® Controles",
                whiteKings: "Reyes Blancos:",
                blackKings: "Reyes Negros:",
                totalPieces: "Total de Piezas:",
                materialBalance: "Balance Material:",
                defaultPosition: "ğŸ  PosiciÃ³n Por Defecto",
                endgame: "ğŸ‘‘ Final",
                middlegame: "âš”ï¸ Medio Juego",
                puzzle: "ğŸ§© Puzzle",
                random: "ğŸ² Aleatorio",
                analyzePosition: "ğŸ” Analizar PosiciÃ³n",
                playPosition: "ğŸ® Jugar Esta PosiciÃ³n",
                goBackToGame: "â†©ï¸ Volver al Juego Principal",
                clearBoard: "ğŸ—‘ï¸ Limpiar Tablero",
                savePosition: "ğŸ’¾ Guardar PosiciÃ³n",
                resetBoard: "ğŸ”„ Reiniciar",
                positionReady: "Â¡ConfiguraciÃ³n de piezas lista! Puedes arrastrar y soltar piezas.",
                piecePlaced: "pieza colocada en",
                positionCleared: "Tablero limpiado",
                positionReset: "PosiciÃ³n reiniciada",
                positionSaved: "PosiciÃ³n guardada",
                positionAnalyzed: "PosiciÃ³n analizada",
                whiteKingMissing: "Â¡Se requiere exactamente un rey blanco para jugar!",
                blackKingMissing: "Â¡Se requiere exactamente un rey negro para jugar!",
                minimumPieces: "Â¡Se requieren al menos 2 piezas (reyes) para jugar!",
                positionPrepared: "âœ… Â¡PosiciÃ³n preparada! Puedes jugar contra el bot...",
                whiteKingExcess: "âš ï¸ Rey blanco faltante o exceso",
                blackKingExcess: "âš ï¸ Rey negro faltante o exceso",
                whiteAdvantage: "âœ… Las blancas tienen ventaja material",
                blackAdvantage: "âœ… Las negras tienen ventaja material",
                materialEqual: "âš–ï¸ Material equilibrado",
                endgamePosition: "ğŸ PosiciÃ³n de final (pocas piezas)",
                openingPosition: "ğŸš€ PosiciÃ³n de apertura (muchas piezas)",
                middlegamePosition: "âš”ï¸ PosiciÃ³n de medio juego",
                kingsClose: "ğŸ‘‘ Reyes muy cerca - Â¡juega con cuidado!",
                kingsSafe: "ğŸ›¡ï¸ Reyes a distancia segura",
                whiteCenter: "ğŸ¯ Las blancas controlan el centro",
                blackCenter: "ğŸ¯ Las negras controlan el centro",
                centerBalanced: "ğŸ¯ Control del centro equilibrado",
                positionValid: "âœ… La posiciÃ³n parece vÃ¡lida"
            },
            fr: {
                title: "â™” 4Ã—5 Ã‰checs - Configuration des PiÃ¨ces â™š",
                subtitle: "Glissez et dÃ©posez les piÃ¨ces pour crÃ©er votre position personnalisÃ©e",
                whitePieces: "âšª PiÃ¨ces Blanches",
                blackPieces: "âš« PiÃ¨ces Noires",
                chessBoard: "ğŸ Ã‰chiquier",
                controls: "ğŸ® ContrÃ´les",
                whiteKings: "Rois Blancs:",
                blackKings: "Rois Noirs:",
                totalPieces: "Total des PiÃ¨ces:",
                materialBalance: "Ã‰quilibre MatÃ©riel:",
                defaultPosition: "ğŸ  Position Par DÃ©faut",
                endgame: "ğŸ‘‘ Finale",
                middlegame: "âš”ï¸ Milieu de Jeu",
                puzzle: "ğŸ§© Puzzle",
                random: "ğŸ² AlÃ©atoire",
                analyzePosition: "ğŸ” Analyser la Position",
                playPosition: "ğŸ® Jouer Cette Position",
                goBackToGame: "â†©ï¸ Retour au Jeu Principal",
                clearBoard: "ğŸ—‘ï¸ Vider l'Ã‰chiquier",
                savePosition: "ğŸ’¾ Sauvegarder la Position",
                resetBoard: "ğŸ”„ RÃ©initialiser",
                positionReady: "Configuration des piÃ¨ces prÃªte! Vous pouvez glisser et dÃ©poser les piÃ¨ces.",
                piecePlaced: "piÃ¨ce placÃ©e sur",
                positionCleared: "Ã‰chiquier vidÃ©",
                positionReset: "Position rÃ©initialisÃ©e",
                positionSaved: "Position sauvegardÃ©e",
                positionAnalyzed: "Position analysÃ©e",
                whiteKingMissing: "Exactement un roi blanc requis pour jouer!",
                blackKingMissing: "Exactement un roi noir requis pour jouer!",
                minimumPieces: "Au moins 2 piÃ¨ces (rois) requises pour jouer!",
                positionPrepared: "âœ… Position prÃ©parÃ©e! Vous pouvez jouer contre le bot...",
                whiteKingExcess: "âš ï¸ Roi blanc manquant ou en excÃ¨s",
                blackKingExcess: "âš ï¸ Roi noir manquant ou en excÃ¨s",
                whiteAdvantage: "âœ… Les blancs ont l'avantage matÃ©riel",
                blackAdvantage: "âœ… Les noirs ont l'avantage matÃ©riel",
                materialEqual: "âš–ï¸ MatÃ©riel Ã©quilibrÃ©",
                endgamePosition: "ğŸ Position de finale (peu de piÃ¨ces)",
                openingPosition: "ğŸš€ Position d'ouverture (beaucoup de piÃ¨ces)",
                middlegamePosition: "âš”ï¸ Position de milieu de jeu",
                kingsClose: "ğŸ‘‘ Rois trop proches - jouez prudemment!",
                kingsSafe: "ğŸ›¡ï¸ Rois Ã  distance sÃ»re",
                whiteCenter: "ğŸ¯ Les blancs contrÃ´lent le centre",
                blackCenter: "ğŸ¯ Les noirs contrÃ´lent le centre",
                centerBalanced: "ğŸ¯ ContrÃ´le du centre Ã©quilibrÃ©",
                positionValid: "âœ… La position semble valide"
            },
            de: {
                title: "â™” 4Ã—5 Schach - Figurenaufstellung â™š",
                subtitle: "Ziehen und ablegen Sie Figuren, um Ihre benutzerdefinierte Position zu erstellen",
                whitePieces: "âšª WeiÃŸe Figuren",
                blackPieces: "âš« Schwarze Figuren",
                chessBoard: "ğŸ Schachbrett",
                controls: "ğŸ® Steuerung",
                whiteKings: "WeiÃŸe KÃ¶nige:",
                blackKings: "Schwarze KÃ¶nige:",
                totalPieces: "Gesamte Figuren:",
                materialBalance: "Materialbalance:",
                defaultPosition: "ğŸ  Standardposition",
                endgame: "ğŸ‘‘ Endspiel",
                middlegame: "âš”ï¸ Mittelspiel",
                puzzle: "ğŸ§© Puzzle",
                random: "ğŸ² ZufÃ¤llig",
                analyzePosition: "ğŸ” Position Analysieren",
                playPosition: "ğŸ® Diese Position Spielen",
                goBackToGame: "â†©ï¸ ZurÃ¼ck zum Hauptspiel",
                clearBoard: "ğŸ—‘ï¸ Brett Leeren",
                savePosition: "ğŸ’¾ Position Speichern",
                resetBoard: "ğŸ”„ ZurÃ¼cksetzen",
                positionReady: "Figurenaufstellung bereit! Sie kÃ¶nnen Figuren ziehen und ablegen.",
                piecePlaced: "Figur platziert auf",
                positionCleared: "Brett geleert",
                positionReset: "Position zurÃ¼ckgesetzt",
                positionSaved: "Position gespeichert",
                positionAnalyzed: "Position analysiert",
                whiteKingMissing: "Genau ein weiÃŸer KÃ¶nig fÃ¼r das Spiel erforderlich!",
                blackKingMissing: "Genau ein schwarzer KÃ¶nig fÃ¼r das Spiel erforderlich!",
                minimumPieces: "Mindestens 2 Figuren (KÃ¶nige) fÃ¼r das Spiel erforderlich!",
                positionPrepared: "âœ… Position vorbereitet! Sie kÃ¶nnen gegen den Bot spielen...",
                whiteKingExcess: "âš ï¸ WeiÃŸer KÃ¶nig fehlt oder ist Ã¼berschÃ¼ssig",
                blackKingExcess: "âš ï¸ Schwarzer KÃ¶nig fehlt oder ist Ã¼berschÃ¼ssig",
                whiteAdvantage: "âœ… WeiÃŸ hat Materialvorteil",
                blackAdvantage: "âœ… Schwarz hat Materialvorteil",
                materialEqual: "âš–ï¸ Material ausgeglichen",
                endgamePosition: "ğŸ Endspielposition (wenige Figuren)",
                openingPosition: "ğŸš€ ErÃ¶ffnungsposition (viele Figuren)",
                middlegamePosition: "âš”ï¸ Mittelspielposition",
                kingsClose: "ğŸ‘‘ KÃ¶nige zu nah - vorsichtig spielen!",
                kingsSafe: "ğŸ›¡ï¸ KÃ¶nige in sicherer Entfernung",
                whiteCenter: "ğŸ¯ WeiÃŸ kontrolliert das Zentrum",
                blackCenter: "ğŸ¯ Schwarz kontrolliert das Zentrum",
                centerBalanced: "ğŸ¯ Zentrumskontrolle ausgeglichen",
                positionValid: "âœ… Position sieht gÃ¼ltig aus"
            },
            it: {
                title: "â™” 4Ã—5 Scacchi - Configurazione Pezzi â™š",
                subtitle: "Trascina e rilascia i pezzi per creare la tua posizione personalizzata",
                whitePieces: "âšª Pezzi Bianchi",
                blackPieces: "âš« Pezzi Neri",
                chessBoard: "ğŸ Scacchiera",
                controls: "ğŸ® Controlli",
                whiteKings: "Re Bianchi:",
                blackKings: "Re Neri:",
                totalPieces: "Totale Pezzi:",
                materialBalance: "Equilibrio Materiale:",
                defaultPosition: "ğŸ  Posizione Predefinita",
                endgame: "ğŸ‘‘ Finale",
                middlegame: "âš”ï¸ Mediogioco",
                puzzle: "ğŸ§© Puzzle",
                random: "ğŸ² Casuale",
                analyzePosition: "ğŸ” Analizza Posizione",
                playPosition: "ğŸ® Gioca Questa Posizione",
                goBackToGame: "â†©ï¸ Torna al Gioco Principale",
                clearBoard: "ğŸ—‘ï¸ Pulisci Scacchiera",
                savePosition: "ğŸ’¾ Salva Posizione",
                resetBoard: "ğŸ”„ Ripristina",
                positionReady: "Configurazione pezzi pronta! Puoi trascinare e rilasciare i pezzi.",
                piecePlaced: "pezzo posizionato su",
                positionCleared: "Scacchiera pulita",
                positionReset: "Posizione ripristinata",
                positionSaved: "Posizione salvata",
                positionAnalyzed: "Posizione analizzata",
                whiteKingMissing: "Esattamente un re bianco richiesto per giocare!",
                blackKingMissing: "Esattamente un re nero richiesto per giocare!",
                minimumPieces: "Almeno 2 pezzi (re) richiesti per giocare!",
                positionPrepared: "âœ… Posizione preparata! Puoi giocare contro il bot...",
                whiteKingExcess: "âš ï¸ Re bianco mancante o in eccesso",
                blackKingExcess: "âš ï¸ Re nero mancante o in eccesso",
                whiteAdvantage: "âœ… Il bianco ha vantaggio materiale",
                blackAdvantage: "âœ… Il nero ha vantaggio materiale",
                materialEqual: "âš–ï¸ Materiale equilibrato",
                endgamePosition: "ğŸ Posizione di finale (pochi pezzi)",
                openingPosition: "ğŸš€ Posizione di apertura (molti pezzi)",
                middlegamePosition: "âš”ï¸ Posizione di mediogioco",
                kingsClose: "ğŸ‘‘ Re troppo vicini - gioca con attenzione!",
                kingsSafe: "ğŸ›¡ï¸ Re a distanza sicura",
                whiteCenter: "ğŸ¯ Il bianco controlla il centro",
                blackCenter: "ğŸ¯ Il nero controlla il centro",
                centerBalanced: "ğŸ¯ Controllo del centro equilibrato",
                positionValid: "âœ… La posizione sembra valida"
            },
            ru: {
                title: "â™” 4Ã—5 Ğ¨Ğ°Ñ…Ğ¼Ğ°Ñ‚Ñ‹ - Ğ Ğ°ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¤Ğ¸Ğ³ÑƒÑ€ â™š",
                subtitle: "ĞŸĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ¸Ğ³ÑƒÑ€Ñ‹ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ²Ğ¾ĞµĞ¹ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸",
                whitePieces: "âšª Ğ‘ĞµĞ»Ñ‹Ğµ Ğ¤Ğ¸Ğ³ÑƒÑ€Ñ‹",
                blackPieces: "âš« Ğ§ĞµÑ€Ğ½Ñ‹Ğµ Ğ¤Ğ¸Ğ³ÑƒÑ€Ñ‹",
                chessBoard: "ğŸ Ğ¨Ğ°Ñ…Ğ¼Ğ°Ñ‚Ğ½Ğ°Ñ Ğ”Ğ¾ÑĞºĞ°",
                controls: "ğŸ® Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ",
                whiteKings: "Ğ‘ĞµĞ»Ñ‹Ğµ ĞšĞ¾Ñ€Ğ¾Ğ»Ğ¸:",
                blackKings: "Ğ§ĞµÑ€Ğ½Ñ‹Ğµ ĞšĞ¾Ñ€Ğ¾Ğ»Ğ¸:",
                totalPieces: "Ğ’ÑĞµĞ³Ğ¾ Ğ¤Ğ¸Ğ³ÑƒÑ€:",
                materialBalance: "ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ:",
                defaultPosition: "ğŸ  Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ°Ñ ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ",
                endgame: "ğŸ‘‘ Ğ­Ğ½Ğ´ÑˆĞ¿Ğ¸Ğ»ÑŒ",
                middlegame: "âš”ï¸ ĞœĞ¸Ñ‚Ñ‚ĞµĞ»ÑŒÑˆĞ¿Ğ¸Ğ»ÑŒ",
                puzzle: "ğŸ§© Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğ»Ğ¾Ğ¼ĞºĞ°",
                random: "ğŸ² Ğ¡Ğ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ¾",
                analyzePosition: "ğŸ” ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ",
                playPosition: "ğŸ® Ğ˜Ğ³Ñ€Ğ°Ñ‚ÑŒ Ğ­Ñ‚Ñƒ ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ",
                goBackToGame: "â†©ï¸ ĞĞ°Ğ·Ğ°Ğ´ Ğº ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ˜Ğ³Ñ€Ğµ",
                clearBoard: "ğŸ—‘ï¸ ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ”Ğ¾ÑĞºÑƒ",
                savePosition: "ğŸ’¾ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ",
                resetBoard: "ğŸ”„ Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ",
                positionReady: "Ğ Ğ°ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ñ„Ğ¸Ğ³ÑƒÑ€ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°! Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿ĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°Ñ‚ÑŒ Ñ„Ğ¸Ğ³ÑƒÑ€Ñ‹.",
                piecePlaced: "Ñ„Ğ¸Ğ³ÑƒÑ€Ğ° Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ° Ğ½Ğ°",
                positionCleared: "Ğ”Ğ¾ÑĞºĞ° Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ°",
                positionReset: "ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ ÑĞ±Ñ€Ğ¾ÑˆĞµĞ½Ğ°",
                positionSaved: "ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ°",
                positionAnalyzed: "ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°",
                whiteKingMissing: "Ğ”Ğ»Ñ Ğ¸Ğ³Ñ€Ñ‹ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ñ€Ğ¾Ğ²Ğ½Ğ¾ Ğ¾Ğ´Ğ¸Ğ½ Ğ±ĞµĞ»Ñ‹Ğ¹ ĞºĞ¾Ñ€Ğ¾Ğ»ÑŒ!",
                blackKingMissing: "Ğ”Ğ»Ñ Ğ¸Ğ³Ñ€Ñ‹ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ñ€Ğ¾Ğ²Ğ½Ğ¾ Ğ¾Ğ´Ğ¸Ğ½ Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¹ ĞºĞ¾Ñ€Ğ¾Ğ»ÑŒ!",
                minimumPieces: "Ğ”Ğ»Ñ Ğ¸Ğ³Ñ€Ñ‹ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 2 Ñ„Ğ¸Ğ³ÑƒÑ€Ñ‹ (ĞºĞ¾Ñ€Ğ¾Ğ»Ğ¸)!",
                positionPrepared: "âœ… ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ»ĞµĞ½Ğ°! Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¸Ğ³Ñ€Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² Ğ±Ğ¾Ñ‚Ğ°...",
                whiteKingExcess: "âš ï¸ Ğ‘ĞµĞ»Ñ‹Ğ¹ ĞºĞ¾Ñ€Ğ¾Ğ»ÑŒ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ¸Ğ»Ğ¸ Ğ»Ğ¸ÑˆĞ½Ğ¸Ğ¹",
                blackKingExcess: "âš ï¸ Ğ§ĞµÑ€Ğ½Ñ‹Ğ¹ ĞºĞ¾Ñ€Ğ¾Ğ»ÑŒ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ¸Ğ»Ğ¸ Ğ»Ğ¸ÑˆĞ½Ğ¸Ğ¹",
                whiteAdvantage: "âœ… Ğ£ Ğ±ĞµĞ»Ñ‹Ñ… Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾",
                blackAdvantage: "âœ… Ğ£ Ñ‡ĞµÑ€Ğ½Ñ‹Ñ… Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾",
                materialEqual: "âš–ï¸ ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ» ÑĞ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½",
                endgamePosition: "ğŸ Ğ­Ğ½Ğ´ÑˆĞ¿Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ (Ğ¼Ğ°Ğ»Ğ¾ Ñ„Ğ¸Ğ³ÑƒÑ€)",
                openingPosition: "ğŸš€ Ğ”ĞµĞ±ÑÑ‚Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ (Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ñ„Ğ¸Ğ³ÑƒÑ€)",
                middlegamePosition: "âš”ï¸ ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ¼Ğ¸Ñ‚Ñ‚ĞµĞ»ÑŒÑˆĞ¿Ğ¸Ğ»Ñ",
                kingsClose: "ğŸ‘‘ ĞšĞ¾Ñ€Ğ¾Ğ»Ğ¸ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ±Ğ»Ğ¸Ğ·ĞºĞ¾ - Ğ¸Ğ³Ñ€Ğ°Ğ¹Ñ‚Ğµ Ğ¾ÑÑ‚Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ¾!",
                kingsSafe: "ğŸ›¡ï¸ ĞšĞ¾Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğ° Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ¼ Ñ€Ğ°ÑÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸",
                whiteCenter: "ğŸ¯ Ğ‘ĞµĞ»Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸Ñ€ÑƒÑÑ‚ Ñ†ĞµĞ½Ñ‚Ñ€",
                blackCenter: "ğŸ¯ Ğ§ĞµÑ€Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸Ñ€ÑƒÑÑ‚ Ñ†ĞµĞ½Ñ‚Ñ€",
                centerBalanced: "ğŸ¯ ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ Ñ†ĞµĞ½Ñ‚Ñ€Ğ° ÑĞ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½",
                positionValid: "âœ… ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ²Ñ‹Ğ³Ğ»ÑĞ´Ğ¸Ñ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğ¹"
            },
            zh: {
                title: "â™” 4Ã—5 å›½é™…è±¡æ£‹ - æ£‹å­è®¾ç½® â™š",
                subtitle: "æ‹–æ”¾æ£‹å­æ¥åˆ›å»ºæ‚¨çš„è‡ªå®šä¹‰ä½ç½®",
                whitePieces: "âšª ç™½æ£‹",
                blackPieces: "âš« é»‘æ£‹",
                chessBoard: "ğŸ æ£‹ç›˜",
                controls: "ğŸ® æ§åˆ¶",
                whiteKings: "ç™½ç‹:",
                blackKings: "é»‘ç‹:",
                totalPieces: "æ€»æ£‹å­æ•°:",
                materialBalance: "ææ–™å¹³è¡¡:",
                defaultPosition: "ğŸ  é»˜è®¤ä½ç½®",
                endgame: "ğŸ‘‘ æ®‹å±€",
                middlegame: "âš”ï¸ ä¸­å±€",
                puzzle: "ğŸ§© è°œé¢˜",
                random: "ğŸ² éšæœº",
                analyzePosition: "ğŸ” åˆ†æä½ç½®",
                playPosition: "ğŸ® ç©è¿™ä¸ªä½ç½®",
                goBackToGame: "â†©ï¸ è¿”å›ä¸»æ¸¸æˆ",
                clearBoard: "ğŸ—‘ï¸ æ¸…ç©ºæ£‹ç›˜",
                savePosition: "ğŸ’¾ ä¿å­˜ä½ç½®",
                resetBoard: "ğŸ”„ é‡ç½®",
                positionReady: "æ£‹å­è®¾ç½®å°±ç»ªï¼æ‚¨å¯ä»¥æ‹–æ”¾æ£‹å­ã€‚",
                piecePlaced: "æ£‹å­æ”¾ç½®åœ¨",
                positionCleared: "æ£‹ç›˜å·²æ¸…ç©º",
                positionReset: "ä½ç½®å·²é‡ç½®",
                positionSaved: "ä½ç½®å·²ä¿å­˜",
                positionAnalyzed: "ä½ç½®å·²åˆ†æ",
                whiteKingMissing: "æ¸¸æˆéœ€è¦æ°å¥½ä¸€ä¸ªç™½ç‹ï¼",
                blackKingMissing: "æ¸¸æˆéœ€è¦æ°å¥½ä¸€ä¸ªé»‘ç‹ï¼",
                minimumPieces: "æ¸¸æˆè‡³å°‘éœ€è¦2ä¸ªæ£‹å­ï¼ˆç‹ï¼‰ï¼",
                positionPrepared: "âœ… ä½ç½®å·²å‡†å¤‡å¥½ï¼æ‚¨å¯ä»¥ä¸æœºå™¨äººå¯¹æˆ˜...",
                whiteKingExcess: "âš ï¸ ç™½ç‹ç¼ºå¤±æˆ–è¿‡å¤š",
                blackKingExcess: "âš ï¸ é»‘ç‹ç¼ºå¤±æˆ–è¿‡å¤š",
                whiteAdvantage: "âœ… ç™½æ–¹æœ‰ææ–™ä¼˜åŠ¿",
                blackAdvantage: "âœ… é»‘æ–¹æœ‰ææ–™ä¼˜åŠ¿",
                materialEqual: "âš–ï¸ ææ–™å¹³è¡¡",
                endgamePosition: "ğŸ æ®‹å±€ä½ç½®ï¼ˆæ£‹å­è¾ƒå°‘ï¼‰",
                openingPosition: "ğŸš€ å¼€å±€ä½ç½®ï¼ˆæ£‹å­è¾ƒå¤šï¼‰",
                middlegamePosition: "âš”ï¸ ä¸­å±€ä½ç½®",
                kingsClose: "ğŸ‘‘ ç‹å¤ªè¿‘äº† - å°å¿ƒä¸‹æ£‹ï¼",
                kingsSafe: "ğŸ›¡ï¸ ç‹åœ¨å®‰å…¨è·ç¦»",
                whiteCenter: "ğŸ¯ ç™½æ–¹æ§åˆ¶ä¸­å¿ƒ",
                blackCenter: "ğŸ¯ é»‘æ–¹æ§åˆ¶ä¸­å¿ƒ",
                centerBalanced: "ğŸ¯ ä¸­å¿ƒæ§åˆ¶å¹³è¡¡",
                positionValid: "âœ… ä½ç½®çœ‹èµ·æ¥æœ‰æ•ˆ"
            },
            ja: {
                title: "â™” 4Ã—5 ãƒã‚§ã‚¹ - é§’ã®é…ç½® â™š",
                subtitle: "é§’ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ",
                whitePieces: "âšª ç™½ã®é§’",
                blackPieces: "âš« é»’ã®é§’",
                chessBoard: "ğŸ ãƒã‚§ã‚¹ç›¤",
                controls: "ğŸ® ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«",
                whiteKings: "ç™½ã®ã‚­ãƒ³ã‚°:",
                blackKings: "é»’ã®ã‚­ãƒ³ã‚°:",
                totalPieces: "ç·é§’æ•°:",
                materialBalance: "ãƒãƒ†ãƒªã‚¢ãƒ«ãƒãƒ©ãƒ³ã‚¹:",
                defaultPosition: "ğŸ  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒã‚¸ã‚·ãƒ§ãƒ³",
                endgame: "ğŸ‘‘ ã‚¨ãƒ³ãƒ‰ã‚²ãƒ¼ãƒ ",
                middlegame: "âš”ï¸ ãƒŸãƒ‰ãƒ«ã‚²ãƒ¼ãƒ ",
                puzzle: "ğŸ§© ãƒ‘ã‚ºãƒ«",
                random: "ğŸ² ãƒ©ãƒ³ãƒ€ãƒ ",
                analyzePosition: "ğŸ” ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ†æ",
                playPosition: "ğŸ® ã“ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã§å¯¾å±€",
                goBackToGame: "â†©ï¸ ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ã«æˆ»ã‚‹",
                clearBoard: "ğŸ—‘ï¸ ç›¤é¢ã‚’ã‚¯ãƒªã‚¢",
                savePosition: "ğŸ’¾ ãƒã‚¸ã‚·ãƒ§ãƒ³ä¿å­˜",
                resetBoard: "ğŸ”„ ãƒªã‚»ãƒƒãƒˆ",
                positionReady: "é§’ã®é…ç½®æº–å‚™å®Œäº†ï¼é§’ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã§ãã¾ã™ã€‚",
                piecePlaced: "é§’ãŒé…ç½®ã•ã‚Œã¾ã—ãŸ",
                positionCleared: "ç›¤é¢ãŒã‚¯ãƒªã‚¢ã•ã‚Œã¾ã—ãŸ",
                positionReset: "ãƒã‚¸ã‚·ãƒ§ãƒ³ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸ",
                positionSaved: "ãƒã‚¸ã‚·ãƒ§ãƒ³ãŒä¿å­˜ã•ã‚Œã¾ã—ãŸ",
                positionAnalyzed: "ãƒã‚¸ã‚·ãƒ§ãƒ³ãŒåˆ†æã•ã‚Œã¾ã—ãŸ",
                whiteKingMissing: "å¯¾å±€ã«ã¯ç™½ã®ã‚­ãƒ³ã‚°ãŒ1ã¤å¿…è¦ã§ã™ï¼",
                blackKingMissing: "å¯¾å±€ã«ã¯é»’ã®ã‚­ãƒ³ã‚°ãŒ1ã¤å¿…è¦ã§ã™ï¼",
                minimumPieces: "å¯¾å±€ã«ã¯æœ€ä½2ã¤ã®é§’ï¼ˆã‚­ãƒ³ã‚°ï¼‰ãŒå¿…è¦ã§ã™ï¼",
                positionPrepared: "âœ… ãƒã‚¸ã‚·ãƒ§ãƒ³æº–å‚™å®Œäº†ï¼ãƒœãƒƒãƒˆã¨å¯¾å±€ã§ãã¾ã™...",
                whiteKingExcess: "âš ï¸ ç™½ã®ã‚­ãƒ³ã‚°ãŒä¸è¶³ã¾ãŸã¯éå¤š",
                blackKingExcess: "âš ï¸ é»’ã®ã‚­ãƒ³ã‚°ãŒä¸è¶³ã¾ãŸã¯éå¤š",
                whiteAdvantage: "âœ… ç™½ã«ãƒãƒ†ãƒªã‚¢ãƒ«å„ªå‹¢",
                blackAdvantage: "âœ… é»’ã«ãƒãƒ†ãƒªã‚¢ãƒ«å„ªå‹¢",
                materialEqual: "âš–ï¸ ãƒãƒ†ãƒªã‚¢ãƒ«å‡è¡¡",
                endgamePosition: "ğŸ ã‚¨ãƒ³ãƒ‰ã‚²ãƒ¼ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³ï¼ˆé§’ãŒå°‘ãªã„ï¼‰",
                openingPosition: "ğŸš€ ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°ãƒã‚¸ã‚·ãƒ§ãƒ³ï¼ˆé§’ãŒå¤šã„ï¼‰",
                middlegamePosition: "âš”ï¸ ãƒŸãƒ‰ãƒ«ã‚²ãƒ¼ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³",
                kingsClose: "ğŸ‘‘ ã‚­ãƒ³ã‚°ãŒè¿‘ã™ãã¾ã™ - æ…é‡ã«æŒ‡ã—ã¦ãã ã•ã„ï¼",
                kingsSafe: "ğŸ›¡ï¸ ã‚­ãƒ³ã‚°ã¯å®‰å…¨ãªè·é›¢ã«ã‚ã‚Šã¾ã™",
                whiteCenter: "ğŸ¯ ç™½ãŒä¸­å¤®ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«",
                blackCenter: "ğŸ¯ é»’ãŒä¸­å¤®ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«",
                centerBalanced: "ğŸ¯ ä¸­å¤®ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãŒå‡è¡¡",
                positionValid: "âœ… ãƒã‚¸ã‚·ãƒ§ãƒ³ã¯æœ‰åŠ¹ã«è¦‹ãˆã¾ã™"
            },
            pt: {
                title: "â™” 4Ã—5 Xadrez - ConfiguraÃ§Ã£o de PeÃ§as â™š",
                subtitle: "Arraste e solte peÃ§as para criar sua posiÃ§Ã£o personalizada",
                whitePieces: "âšª PeÃ§as Brancas",
                blackPieces: "âš« PeÃ§as Pretas",
                chessBoard: "ğŸ Tabuleiro de Xadrez",
                controls: "ğŸ® Controles",
                whiteKings: "Reis Brancos:",
                blackKings: "Reis Pretos:",
                totalPieces: "Total de PeÃ§as:",
                materialBalance: "EquilÃ­brio Material:",
                defaultPosition: "ğŸ  PosiÃ§Ã£o PadrÃ£o",
                endgame: "ğŸ‘‘ Final",
                middlegame: "âš”ï¸ Meio-jogo",
                puzzle: "ğŸ§© Quebra-cabeÃ§a",
                random: "ğŸ² AleatÃ³rio",
                analyzePosition: "ğŸ” Analisar PosiÃ§Ã£o",
                playPosition: "ğŸ® Jogar Esta PosiÃ§Ã£o",
                goBackToGame: "â†©ï¸ Voltar ao Jogo Principal",
                clearBoard: "ğŸ—‘ï¸ Limpar Tabuleiro",
                savePosition: "ğŸ’¾ Salvar PosiÃ§Ã£o",
                resetBoard: "ğŸ”„ Reiniciar",
                positionReady: "ConfiguraÃ§Ã£o de peÃ§as pronta! VocÃª pode arrastar e soltar peÃ§as.",
                piecePlaced: "peÃ§a colocada em",
                positionCleared: "Tabuleiro limpo",
                positionReset: "PosiÃ§Ã£o reiniciada",
                positionSaved: "PosiÃ§Ã£o salva",
                positionAnalyzed: "PosiÃ§Ã£o analisada",
                whiteKingMissing: "Exatamente um rei branco Ã© necessÃ¡rio para jogar!",
                blackKingMissing: "Exatamente um rei preto Ã© necessÃ¡rio para jogar!",
                minimumPieces: "Pelo menos 2 peÃ§as (reis) sÃ£o necessÃ¡rias para jogar!",
                positionPrepared: "âœ… PosiÃ§Ã£o preparada! VocÃª pode jogar contra o bot...",
                whiteKingExcess: "âš ï¸ Rei branco ausente ou em excesso",
                blackKingExcess: "âš ï¸ Rei preto ausente ou em excesso",
                whiteAdvantage: "âœ… Brancas tÃªm vantagem material",
                blackAdvantage: "âœ… Pretas tÃªm vantagem material",
                materialEqual: "âš–ï¸ Material equilibrado",
                endgamePosition: "ğŸ PosiÃ§Ã£o de final (poucas peÃ§as)",
                openingPosition: "ğŸš€ PosiÃ§Ã£o de abertura (muitas peÃ§as)",
                middlegamePosition: "âš”ï¸ PosiÃ§Ã£o de meio-jogo",
                kingsClose: "ğŸ‘‘ Reis muito prÃ³ximos - jogue com cuidado!",
                kingsSafe: "ğŸ›¡ï¸ Reis em distÃ¢ncia segura",
                whiteCenter: "ğŸ¯ Brancas controlam o centro",
                blackCenter: "ğŸ¯ Pretas controlam o centro",
                centerBalanced: "ğŸ¯ Controle do centro equilibrado",
                positionValid: "âœ… A posiÃ§Ã£o parece vÃ¡lida"
            },
            ar: {
                title: "â™” 4Ã—5 Ø´Ø·Ø±Ù†Ø¬ - Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø·Ø¹ â™š",
                subtitle: "Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù‚Ø·Ø¹ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø®ØµØµ",
                whitePieces: "âšª Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
                blackPieces: "âš« Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡",
                chessBoard: "ğŸ Ø±Ù‚Ø¹Ø© Ø§Ù„Ø´Ø·Ø±Ù†Ø¬",
                controls: "ğŸ® Ø§Ù„ØªØ­ÙƒÙ…",
                whiteKings: "Ø§Ù„Ù…Ù„ÙˆÙƒ Ø§Ù„Ø¨ÙŠØ¶:",
                blackKings: "Ø§Ù„Ù…Ù„ÙˆÙƒ Ø§Ù„Ø³ÙˆØ¯:",
                totalPieces: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø·Ø¹:",
                materialBalance: "ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…ÙˆØ§Ø¯:",
                defaultPosition: "ğŸ  Ø§Ù„Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ",
                endgame: "ğŸ‘‘ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©",
                middlegame: "âš”ï¸ ÙˆØ³Ø· Ø§Ù„Ù„Ø¹Ø¨Ø©",
                puzzle: "ğŸ§© Ù„ØºØ²",
                random: "ğŸ² Ø¹Ø´ÙˆØ§Ø¦ÙŠ",
                analyzePosition: "ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¶Ø¹",
                playPosition: "ğŸ® Ø§Ù„Ø¹Ø¨ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶Ø¹",
                goBackToGame: "â†©ï¸ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                clearBoard: "ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø±Ù‚Ø¹Ø©",
                savePosition: "ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ¶Ø¹",
                resetBoard: "ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†",
                positionReady: "Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø·Ø¹ Ø¬Ø§Ù‡Ø²! ÙŠÙ…ÙƒÙ†Ùƒ Ø³Ø­Ø¨ ÙˆØ¥ÙÙ„Ø§Øª Ø§Ù„Ù‚Ø·Ø¹.",
                piecePlaced: "ØªÙ… ÙˆØ¶Ø¹ Ø§Ù„Ù‚Ø·Ø¹Ø© ÙÙŠ",
                positionCleared: "ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø±Ù‚Ø¹Ø©",
                positionReset: "ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ÙˆØ¶Ø¹",
                positionSaved: "ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ¶Ø¹",
                positionAnalyzed: "ØªÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¶Ø¹",
                whiteKingMissing: "Ù…Ø·Ù„ÙˆØ¨ Ù…Ù„Ùƒ Ø£Ø¨ÙŠØ¶ ÙˆØ§Ø­Ø¯ Ø¨Ø§Ù„Ø¶Ø¨Ø· Ù„Ù„Ø¹Ø¨!",
                blackKingMissing: "Ù…Ø·Ù„ÙˆØ¨ Ù…Ù„Ùƒ Ø£Ø³ÙˆØ¯ ÙˆØ§Ø­Ø¯ Ø¨Ø§Ù„Ø¶Ø¨Ø· Ù„Ù„Ø¹Ø¨!",
                minimumPieces: "Ù…Ø·Ù„ÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù‚Ø·Ø¹ØªØ§Ù† (Ù…Ù„ÙˆÙƒ) Ù„Ù„Ø¹Ø¨!",
                positionPrepared: "âœ… ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ÙˆØ¶Ø¹! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù„Ø¹Ø¨ Ø¶Ø¯ Ø§Ù„Ø¨ÙˆØª...",
                whiteKingExcess: "âš ï¸ Ø§Ù„Ù…Ù„Ùƒ Ø§Ù„Ø£Ø¨ÙŠØ¶ Ù…ÙÙ‚ÙˆØ¯ Ø£Ùˆ Ø²Ø§Ø¦Ø¯",
                blackKingExcess: "âš ï¸ Ø§Ù„Ù…Ù„Ùƒ Ø§Ù„Ø£Ø³ÙˆØ¯ Ù…ÙÙ‚ÙˆØ¯ Ø£Ùˆ Ø²Ø§Ø¦Ø¯",
                whiteAdvantage: "âœ… Ø§Ù„Ø£Ø¨ÙŠØ¶ Ù„Ù‡ Ù…ÙŠØ²Ø© Ù…Ø§Ø¯ÙŠØ©",
                blackAdvantage: "âœ… Ø§Ù„Ø£Ø³ÙˆØ¯ Ù„Ù‡ Ù…ÙŠØ²Ø© Ù…Ø§Ø¯ÙŠØ©",
                materialEqual: "âš–ï¸ Ø§Ù„Ù…ÙˆØ§Ø¯ Ù…ØªÙˆØ§Ø²Ù†Ø©",
                endgamePosition: "ğŸ Ù…ÙˆØ¶Ø¹ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© (Ù‚Ø·Ø¹ Ù‚Ù„ÙŠÙ„Ø©)",
                openingPosition: "ğŸš€ Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø§ÙØªØªØ§Ø­ (Ù‚Ø·Ø¹ ÙƒØ«ÙŠØ±Ø©)",
                middlegamePosition: "âš”ï¸ Ù…ÙˆØ¶Ø¹ ÙˆØ³Ø· Ø§Ù„Ù„Ø¹Ø¨Ø©",
                kingsClose: "ğŸ‘‘ Ø§Ù„Ù…Ù„ÙˆÙƒ Ù‚Ø±ÙŠØ¨ÙˆÙ† Ø¬Ø¯Ø§Ù‹ - Ø§Ù„Ø¹Ø¨ Ø¨Ø­Ø°Ø±!",
                kingsSafe: "ğŸ›¡ï¸ Ø§Ù„Ù…Ù„ÙˆÙƒ ÙÙŠ Ù…Ø³Ø§ÙØ© Ø¢Ù…Ù†Ø©",
                whiteCenter: "ğŸ¯ Ø§Ù„Ø£Ø¨ÙŠØ¶ ÙŠØ³ÙŠØ·Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ²",
                blackCenter: "ğŸ¯ Ø§Ù„Ø£Ø³ÙˆØ¯ ÙŠØ³ÙŠØ·Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ²",
                centerBalanced: "ğŸ¯ Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ² Ù…ØªÙˆØ§Ø²Ù†Ø©",
                positionValid: "âœ… Ø§Ù„Ù…ÙˆØ¶Ø¹ ÙŠØ¨Ø¯Ùˆ ØµØ­ÙŠØ­Ø§Ù‹"
            }
        };

        // Translation function
        function t(key) {
            return translations[currentLang][key] || translations['en'][key] || key;
        }

        // Change language function - synchronized with main game
        function changeLanguage() {
            const select = document.getElementById('languageSelect');
            currentLang = select.value;
            
            // Save language preference using same key as main game
            localStorage.setItem('4x5_lang', currentLang);
            
            // Handle RTL for Arabic
            if (currentLang === 'ar') {
                document.documentElement.setAttribute('dir', 'rtl');
                document.body.style.direction = 'rtl';
            } else {
                document.documentElement.setAttribute('dir', 'ltr');
                document.body.style.direction = 'ltr';
            }
            
            // Update UI text
            updateUIText();
            
            // Language change notifications
            const notifications = {
                'en': 'Language changed to English',
                'tr': 'Dil TÃ¼rkÃ§e olarak deÄŸiÅŸtirildi',
                'es': 'Idioma cambiado a EspaÃ±ol',
                'fr': 'Langue changÃ©e en FranÃ§ais',
                'de': 'Sprache zu Deutsch geÃ¤ndert',
                'it': 'Lingua cambiata in Italiano',
                'ru': 'Ğ¯Ğ·Ñ‹Ğº Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¸Ğ¹',
                'zh': 'è¯­è¨€å·²æ›´æ”¹ä¸ºä¸­æ–‡',
                'ja': 'è¨€èªãŒæ—¥æœ¬èªã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸ',
                'pt': 'Idioma alterado para PortuguÃªs',
                'ar': 'ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'
            };
            
            showNotification(notifications[currentLang] || notifications['en'], 'info');
        }

        // ===== THEME MANAGEMENT FUNCTIONS =====

        // Global theme state
        let currentTheme = 'light';

        // Initialize theme system
        function initThemeSystem() {
            // Load saved theme from main game or use system preference
            const savedTheme = localStorage.getItem('4x5-chess-theme') || localStorage.getItem('pieceSetupTheme');
            const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
            
            // Apply theme
            applyTheme(currentTheme);
            
            // Update button
            updateThemeButton();
            
            // Listen for system theme changes
            if (window.matchMedia) {
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                    if (!localStorage.getItem('4x5-chess-theme')) {
                        currentTheme = e.matches ? 'dark' : 'light';
                        applyTheme(currentTheme);
                        updateThemeButton();
                    }
                });
            }
        }

        // Toggle theme function
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            applyTheme(currentTheme);
            saveTheme(currentTheme);
            updateThemeButton();
            
            // Show notification
            const notifications = {
                'en': currentTheme === 'dark' ? 'Switched to dark theme' : 'Switched to light theme',
                'tr': currentTheme === 'dark' ? 'Koyu temaya geÃ§ildi' : 'AÃ§Ä±k temaya geÃ§ildi',
                'es': currentTheme === 'dark' ? 'Cambiado a tema oscuro' : 'Cambiado a tema claro',
                'fr': currentTheme === 'dark' ? 'PassÃ© au thÃ¨me sombre' : 'PassÃ© au thÃ¨me clair',
                'de': currentTheme === 'dark' ? 'Zu dunklem Thema gewechselt' : 'Zu hellem Thema gewechselt',
                'it': currentTheme === 'dark' ? 'Passato al tema scuro' : 'Passato al tema chiaro',
                'ru': currentTheme === 'dark' ? 'ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ Ğ½Ğ° Ñ‚ĞµĞ¼Ğ½ÑƒÑ Ñ‚ĞµĞ¼Ñƒ' : 'ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ Ğ½Ğ° ÑĞ²ĞµÑ‚Ğ»ÑƒÑ Ñ‚ĞµĞ¼Ñƒ',
                'zh': currentTheme === 'dark' ? 'åˆ‡æ¢åˆ°æ·±è‰²ä¸»é¢˜' : 'åˆ‡æ¢åˆ°æµ…è‰²ä¸»é¢˜',
                'ja': currentTheme === 'dark' ? 'ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã«åˆ‡ã‚Šæ›¿ãˆã¾ã—ãŸ' : 'ãƒ©ã‚¤ãƒˆãƒ†ãƒ¼ãƒã«åˆ‡ã‚Šæ›¿ãˆã¾ã—ãŸ',
                'pt': currentTheme === 'dark' ? 'Mudou para tema escuro' : 'Mudou para tema claro',
                'ar': currentTheme === 'dark' ? 'ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„Ø¯Ø§ÙƒÙ†' : 'ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„ÙØ§ØªØ­'
            };
            
            showNotification(notifications[currentLang] || notifications['en'], 'info');
        }

        // Apply theme to document
        function applyTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            document.body.className = document.body.className.replace(/theme-\w+/g, '') + ` theme-${theme}`;
            
            // Update meta theme-color for mobile browsers
            const themeColorMeta = document.querySelector('meta[name="theme-color"]');
            if (themeColorMeta) {
                themeColorMeta.content = theme === 'dark' ? '#0f172a' : '#ffffff';
            }
        }

        // Save theme to localStorage
        function saveTheme(theme) {
            try {
                localStorage.setItem('4x5-chess-theme', theme);
                localStorage.setItem('pieceSetupTheme', theme);
            } catch (error) {
                console.warn('Failed to save theme preference:', error);
            }
        }

        // Update theme button
        function updateThemeButton() {
            const themeIcon = document.getElementById('themeIcon');
            const themeToggle = document.getElementById('themeToggle');
            
            if (themeIcon && themeToggle) {
                if (currentTheme === 'dark') {
                    themeIcon.textContent = 'â˜€ï¸';
                    themeToggle.title = 'Switch to light theme';
                } else {
                    themeIcon.textContent = 'ğŸŒ™';
                    themeToggle.title = 'Switch to dark theme';
                }
            }
        }

        // Listen for theme changes from main game
        window.addEventListener('storage', function(e) {
            if (e.key === '4x5-chess-theme' && e.newValue !== currentTheme) {
                currentTheme = e.newValue;
                applyTheme(currentTheme);
                updateThemeButton();
            }
        });

        // Initialize theme system when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initThemeSystem();
        });

        // Update UI text based on current language
        function updateUIText() {
            // Update title and subtitle
            document.querySelector('.header h1').textContent = t('title');
            document.querySelector('.header p').textContent = t('subtitle');
            
            // Update palette sections
            const whitePiecesTitle = document.querySelector('.palette-section h3');
            if (whitePiecesTitle) whitePiecesTitle.textContent = t('whitePieces');
            
            const blackPiecesTitle = document.querySelectorAll('.palette-section h3')[1];
            if (blackPiecesTitle) blackPiecesTitle.textContent = t('blackPieces');
            
            // Update board container
            document.querySelector('.board-container h2').textContent = t('chessBoard');
            
            // Update controls
            document.querySelector('.controls h3').textContent = t('controls');
            
            // Update stats labels
            document.querySelector('.stat-label').textContent = t('whiteKings');
            document.querySelectorAll('.stat-label')[1].textContent = t('blackKings');
            document.querySelectorAll('.stat-label')[2].textContent = t('totalPieces');
            document.querySelectorAll('.stat-label')[3].textContent = t('materialBalance');
            
            // Update buttons
            const buttons = document.querySelectorAll('.preset-btn, .btn');
            buttons.forEach(btn => {
                const onclick = btn.getAttribute('onclick');
                if (onclick) {
                    if (onclick.includes("loadPreset('default')")) btn.textContent = t('defaultPosition');
                    else if (onclick.includes("loadPreset('endgame')")) btn.textContent = t('endgame');
                    else if (onclick.includes("loadPreset('middlegame')")) btn.textContent = t('middlegame');
                    else if (onclick.includes("loadPreset('puzzle')")) btn.textContent = t('puzzle');
                    else if (onclick.includes("loadPreset('random')")) btn.textContent = t('random');
                    else if (onclick.includes('analyzePosition')) btn.textContent = t('analyzePosition');
                    else if (onclick.includes('playPosition')) btn.textContent = t('playPosition');
                    else if (onclick.includes('goBackToGame')) btn.textContent = t('goBackToGame');
                    else if (onclick.includes('clearBoard')) btn.textContent = t('clearBoard');
                    else if (onclick.includes('savePosition')) btn.textContent = t('savePosition');
                    else if (onclick.includes('resetBoard')) btn.textContent = t('resetBoard');
                }
            });
        }

        // Load saved language preference - synchronized with main game
        function loadLanguagePreference() {
            const savedLang = localStorage.getItem('4x5_lang'); // Use same key as main game
            if (savedLang && translations[savedLang]) {
                currentLang = savedLang;
                document.getElementById('languageSelect').value = currentLang;
                
                // Handle RTL for Arabic
                if (currentLang === 'ar') {
                    document.documentElement.setAttribute('dir', 'rtl');
                    document.body.style.direction = 'rtl';
                } else {
                    document.documentElement.setAttribute('dir', 'ltr');
                    document.body.style.direction = 'ltr';
                }
                
                updateUIText();
            }
        }

        // TaÅŸ sembolleri
        const PIECES = {
            K: "â™”", Q: "â™•", R: "â™–", B: "â™—", N: "â™˜", P: "â™™",
            k: "â™š", q: "â™›", r: "â™œ", b: "â™", n: "â™", p: "â™Ÿ"
        };

        // TaÅŸ deÄŸerleri
        const PIECE_VALUES = {
            P: 1, N: 3, B: 3, R: 5, Q: 9, K: 0,
            p: 1, n: 3, b: 3, r: 5, q: 9, k: 0
        };

        // Oyun tahtasÄ± (5x4)
        let board = Array(5).fill().map(() => Array(4).fill(null));
        let draggedPiece = null;
        let draggedFrom = null;

        // Sayfa yÃ¼klendiÄŸinde baÅŸlat
        document.addEventListener('DOMContentLoaded', function() {
            loadLanguagePreference(); // Load language first
            initializeBoard();
            initializeDragAndDrop();
            loadPreset('default');
            showNotification(t('positionReady'), 'success');
        });

        // Listen for language changes from main game
        window.addEventListener('storage', function(e) {
            if (e.key === '4x5_lang' && e.newValue && translations[e.newValue]) {
                currentLang = e.newValue;
                document.getElementById('languageSelect').value = currentLang;
                
                // Handle RTL for Arabic
                if (currentLang === 'ar') {
                    document.documentElement.setAttribute('dir', 'rtl');
                    document.body.style.direction = 'rtl';
                } else {
                    document.documentElement.setAttribute('dir', 'ltr');
                    document.body.style.direction = 'ltr';
                }
                
                updateUIText();
            }
        });

        // TahtayÄ± baÅŸlat
        function initializeBoard() {
            const boardElement = document.getElementById('chessBoard');
            boardElement.innerHTML = '';

            for (let row = 0; row < 5; row++) {
                for (let col = 0; col < 4; col++) {
                    const square = document.createElement('div');
                    square.className = 'square';
                    square.className += (row + col) % 2 === 0 ? ' light' : ' dark';
                    square.dataset.row = row;
                    square.dataset.col = col;
                    
                    // Drop event listeners
                    square.addEventListener('dragover', handleDragOver);
                    square.addEventListener('drop', handleDrop);
                    square.addEventListener('dragenter', handleDragEnter);
                    square.addEventListener('dragleave', handleDragLeave);
                    
                    boardElement.appendChild(square);
                }
            }
        }

        // Drag & Drop baÅŸlat
        function initializeDragAndDrop() {
            // Palette pieces
            document.querySelectorAll('.palette-piece').forEach(piece => {
                piece.addEventListener('dragstart', handlePaletteDragStart);
                piece.addEventListener('dragend', handleDragEnd);
            });
        }

        // Palette'ten sÃ¼rÃ¼kleme baÅŸlangÄ±cÄ±
        function handlePaletteDragStart(e) {
            draggedPiece = e.target.dataset.piece;
            draggedFrom = 'palette';
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'copy';
        }

        // Tahta Ã¼zerindeki taÅŸtan sÃ¼rÃ¼kleme baÅŸlangÄ±cÄ±
        function handleBoardDragStart(e) {
            const square = e.target.closest('.square');
            const row = parseInt(square.dataset.row);
            const col = parseInt(square.dataset.col);
            
            draggedPiece = board[row][col];
            draggedFrom = { row, col };
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }

        // SÃ¼rÃ¼kleme bitiÅŸi
        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
            document.querySelectorAll('.square').forEach(sq => {
                sq.classList.remove('drop-zone', 'invalid-drop');
            });
        }

        // SÃ¼rÃ¼kleme Ã¼zerine gelme
        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'copy';
        }

        // SÃ¼rÃ¼kleme giriÅŸi
        function handleDragEnter(e) {
            e.preventDefault();
            e.target.classList.add('drop-zone');
        }

        // SÃ¼rÃ¼kleme Ã§Ä±kÄ±ÅŸÄ±
        function handleDragLeave(e) {
            e.target.classList.remove('drop-zone');
        }

        // BÄ±rakma
        function handleDrop(e) {
            e.preventDefault();
            const square = e.target.closest('.square');
            const row = parseInt(square.dataset.row);
            const col = parseInt(square.dataset.col);

            if (draggedPiece) {
                // Eski pozisyonu temizle (eÄŸer tahtadan geliyorsa)
                if (draggedFrom !== 'palette' && draggedFrom.row !== undefined) {
                    board[draggedFrom.row][draggedFrom.col] = null;
                }

                // Yeni pozisyona yerleÅŸtir
                board[row][col] = draggedPiece;
                
                // TahtayÄ± gÃ¼ncelle
                updateBoard();
                updateStats();
                
                showNotification(`${PIECES[draggedPiece]} ${t('piecePlaced')} ${String.fromCharCode(97 + col)}${5 - row}`, 'success');
            }

            // Temizle
            square.classList.remove('drop-zone', 'invalid-drop');
            draggedPiece = null;
            draggedFrom = null;
        }

        // TahtayÄ± gÃ¼ncelle
        function updateBoard() {
            const squares = document.querySelectorAll('.square');
            
            squares.forEach((square, index) => {
                const row = Math.floor(index / 4);
                const col = index % 4;
                const piece = board[row][col];
                
                // Mevcut taÅŸÄ± temizle
                const existingPiece = square.querySelector('.piece');
                if (existingPiece) {
                    existingPiece.remove();
                }
                
                // Yeni taÅŸ ekle
                if (piece) {
                    const pieceElement = document.createElement('div');
                    pieceElement.className = 'piece';
                    pieceElement.className += piece === piece.toUpperCase() ? ' white' : ' black';
                    pieceElement.textContent = PIECES[piece];
                    pieceElement.draggable = true;
                    pieceElement.dataset.piece = piece;
                    
                    // Drag events
                    pieceElement.addEventListener('dragstart', handleBoardDragStart);
                    pieceElement.addEventListener('dragend', handleDragEnd);
                    
                    square.appendChild(pieceElement);
                }
            });
        }

        // Ä°statistikleri gÃ¼ncelle
        function updateStats() {
            let whiteKings = 0, blackKings = 0, totalPieces = 0, materialBalance = 0;

            for (let row = 0; row < 5; row++) {
                for (let col = 0; col < 4; col++) {
                    const piece = board[row][col];
                    if (piece) {
                        totalPieces++;
                        
                        if (piece === 'K') whiteKings++;
                        if (piece === 'k') blackKings++;
                        
                        const value = PIECE_VALUES[piece.toLowerCase()];
                        if (piece === piece.toUpperCase()) {
                            materialBalance += value;
                        } else {
                            materialBalance -= value;
                        }
                    }
                }
            }

            document.getElementById('whiteKings').textContent = whiteKings;
            document.getElementById('blackKings').textContent = blackKings;
            document.getElementById('totalPieces').textContent = totalPieces;
            document.getElementById('materialBalance').textContent = materialBalance > 0 ? `+${materialBalance}` : materialBalance;
        }

        // Preset pozisyonlarÄ± yÃ¼kle
        function loadPreset(type) {
            const presets = {
                default: [
                    ["r", "q", "k", "r"],
                    ["p", "p", "p", "p"],
                    [null, null, null, null],
                    ["P", "P", "P", "P"],
                    ["R", "Q", "K", "R"]
                ],
                endgame: [
                    [null, null, "k", null],
                    [null, null, null, null],
                    [null, "Q", null, null],
                    [null, null, null, null],
                    [null, null, "K", null]
                ],
                middlegame: [
                    ["r", null, "k", null],
                    ["p", "p", null, "p"],
                    [null, "N", "p", null],
                    ["P", null, "P", "P"],
                    ["R", null, "K", "R"]
                ],
                puzzle: [
                    [null, null, "k", null],
                    [null, "q", null, null],
                    [null, null, null, null],
                    [null, "Q", null, null],
                    [null, null, "K", null]
                ]
            };

            if (type === 'random') {
                // Rastgele pozisyon oluÅŸtur
                clearBoard();
                const pieces = ['K', 'Q', 'R', 'B', 'N', 'P', 'k', 'q', 'r', 'b', 'n', 'p'];
                for (let i = 0; i < 12; i++) {
                    const row = Math.floor(Math.random() * 5);
                    const col = Math.floor(Math.random() * 4);
                    if (!board[row][col]) {
                        board[row][col] = pieces[Math.floor(Math.random() * pieces.length)];
                    }
                }
            } else if (presets[type]) {
                board = presets[type].map(row => [...row]);
            }

            updateBoard();
            updateStats();
            
            const presetName = type.charAt(0).toUpperCase() + type.slice(1);
            
            // Multi-language preset notifications
            const presetNotifications = {
                'en': `${presetName} preset loaded`,
                'tr': `${presetName} pozisyonu yÃ¼klendi`,
                'es': `PosiciÃ³n ${presetName} cargada`,
                'fr': `Position ${presetName} chargÃ©e`,
                'de': `${presetName} Position geladen`,
                'it': `Posizione ${presetName} caricata`,
                'ru': `ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ ${presetName} Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ°`,
                'zh': `${presetName} ä½ç½®å·²åŠ è½½`,
                'ja': `${presetName} ãƒã‚¸ã‚·ãƒ§ãƒ³ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ`,
                'pt': `PosiÃ§Ã£o ${presetName} carregada`,
                'ar': `ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…ÙˆØ¶Ø¹ ${presetName}`
            };
            
            showNotification(presetNotifications[currentLang] || presetNotifications['en'], 'info');
        }

        // TahtayÄ± temizle
        function clearBoard() {
            board = Array(5).fill().map(() => Array(4).fill(null));
            updateBoard();
            updateStats();
            showNotification(t('positionCleared'), 'info');
        }

        // TahtayÄ± sÄ±fÄ±rla
        function resetBoard() {
            loadPreset('default');
        }

        // Pozisyonu analiz et
        function analyzePosition() {
            let analysis = [];
            
            // Kral kontrolÃ¼
            let whiteKings = 0, blackKings = 0;
            let whiteKingPos = null, blackKingPos = null;
            
            for (let row = 0; row < 5; row++) {
                for (let col = 0; col < 4; col++) {
                    if (board[row][col] === 'K') {
                        whiteKings++;
                        whiteKingPos = {row, col};
                    }
                    if (board[row][col] === 'k') {
                        blackKings++;
                        blackKingPos = {row, col};
                    }
                }
            }
            
            if (whiteKings !== 1) analysis.push(t('whiteKingExcess'));
            if (blackKings !== 1) analysis.push(t('blackKingExcess'));
            
            // Materyal analizi
            const balance = parseInt(document.getElementById('materialBalance').textContent);
            if (balance > 3) analysis.push(t('whiteAdvantage') + ' (+' + balance + ')');
            else if (balance < -3) analysis.push(t('blackAdvantage') + ' (' + balance + ')');
            else analysis.push(t('materialEqual') + ' (' + balance + ')');
            
            // Pozisyon tipi analizi
            const totalPieces = parseInt(document.getElementById('totalPieces').textContent);
            if (totalPieces <= 6) {
                analysis.push(t('endgamePosition'));
            } else if (totalPieces >= 12) {
                analysis.push(t('openingPosition'));
            } else {
                analysis.push(t('middlegamePosition'));
            }
            
            // Kral gÃ¼venliÄŸi
            if (whiteKingPos && blackKingPos) {
                const distance = Math.abs(whiteKingPos.row - blackKingPos.row) + 
                               Math.abs(whiteKingPos.col - blackKingPos.col);
                if (distance <= 2) {
                    analysis.push(t('kingsClose'));
                } else if (distance >= 5) {
                    analysis.push(t('kingsSafe'));
                }
            }
            
            // Merkez kontrolÃ¼
            let centerControl = 0;
            const centerSquares = [[1,1], [1,2], [2,1], [2,2], [3,1], [3,2]];
            for (const [row, col] of centerSquares) {
                const piece = board[row][col];
                if (piece) {
                    if (piece === piece.toUpperCase()) centerControl++;
                    else centerControl--;
                }
            }
            
            if (centerControl > 0) {
                analysis.push(t('whiteCenter'));
            } else if (centerControl < 0) {
                analysis.push(t('blackCenter'));
            } else {
                analysis.push(t('centerBalanced'));
            }
            
            if (analysis.length === 0) analysis.push(t('positionValid'));
            
            // Analizi gÃ¶ster
            const analysisText = analysis.join(' | ');
            showNotification(analysisText, 'info');
            
            // Konsola detaylÄ± analiz yazdÄ±r
            console.log('ğŸ“Š Position Analysis:', {
                whiteKings, blackKings, 
                materialBalance: balance,
                totalPieces,
                centerControl,
                whiteKingPos, blackKingPos
            });
        }

        // Ana oyuna dÃ¶n
        function goBackToGame() {
            window.location.href = 'index.html';
        }

        // Bu pozisyonla oyna
        function playPosition() {
            // Pozisyon geÃ§erliliÄŸini kontrol et
            let whiteKings = 0, blackKings = 0, totalPieces = 0;
            for (let row = 0; row < 5; row++) {
                for (let col = 0; col < 4; col++) {
                    const piece = board[row][col];
                    if (piece) {
                        totalPieces++;
                        if (piece === 'K') whiteKings++;
                        if (piece === 'k') blackKings++;
                    }
                }
            }
            
            // Temel geÃ§erlilik kontrolleri
            if (whiteKings !== 1) {
                showNotification(t('whiteKingMissing'), 'error');
                return;
            }
            
            if (blackKings !== 1) {
                showNotification(t('blackKingMissing'), 'error');
                return;
            }
            
            if (totalPieces < 2) {
                showNotification(t('minimumPieces'), 'error');
                return;
            }
            
            // Pozisyonu kaydet ve ana oyuna geÃ§
            const positionString = JSON.stringify(board);
            localStorage.setItem('customChessPosition', positionString);
            localStorage.setItem('useCustomPosition', 'true');
            
            // Pozisyon bilgilerini kaydet
            const positionInfo = {
                name: currentLang === 'en' ? 'Custom Position' : 
                      currentLang === 'tr' ? 'Ã–zel Pozisyon' : 'PosiciÃ³n Personalizada',
                pieces: totalPieces,
                created: new Date().toLocaleString(currentLang === 'tr' ? 'tr-TR' : 
                                                  currentLang === 'es' ? 'es-ES' : 'en-US'),
                materialBalance: document.getElementById('materialBalance').textContent
            };
            localStorage.setItem('customPositionInfo', JSON.stringify(positionInfo));
            
            showNotification(t('positionPrepared'), 'success');
            
            // Ana oyun sayfasÄ±na git
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1500);
        }

        // Pozisyonu kaydet
        function savePosition() {
            const positionString = JSON.stringify(board);
            localStorage.setItem('savedChessPosition', positionString);
            showNotification(t('positionSaved'), 'success');
        }

        // Bildirim gÃ¶ster
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Klavye kÄ±sayollarÄ±
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 's':
                        e.preventDefault();
                        savePosition();
                        break;
                    case 'z':
                        e.preventDefault();
                        clearBoard();
                        break;
                    case 'r':
                        e.preventDefault();
                        resetBoard();
                        break;
                    case 't':
                        e.preventDefault();
                        toggleTheme();
                        break;
                }
            }
        });
    </script>
</body>
</html>